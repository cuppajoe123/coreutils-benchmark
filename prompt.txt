Translate the given C code to safe, idiomatic Rust code that can be linked back into a C project using FFI. You may use the following Rust bindings to help with the task of translation. The C source code will be after the Rust bindings. Output only the code, no additional text. Be sure to include!() bindings.rs so that the C functions do not need to be declared at the beginning of the file.
